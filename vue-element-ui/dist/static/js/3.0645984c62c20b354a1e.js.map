{"version":3,"sources":["webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///src/components/Editor/EditorImage.vue","webpack:///./src/components/Editor/EditorImage.vue?08f9","webpack:///./src/components/Editor/EditorImage.vue","webpack:///./src/components/Editor/plugins.js","webpack:///./src/components/Editor/toolbar.js","webpack:///./src/components/Editor/dynamicLoadScript.js","webpack:///src/components/Editor/Editor.vue","webpack:///./src/components/Editor/Editor.vue?6fc6","webpack:///./src/components/Editor/Editor.vue","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js"],"names":["module","exports","default","__webpack_require__","__esModule","toObject","$keys","it","EditorImage","name","props","color","type","String","data","dialogVisible","listObj","fileList","methods","checkAllSuccess","_this","this","keys_default","every","item","hasSuccess","handleSubmit","_this2","arr","map","v","$emit","$message","handleSuccess","response","file","uid","objKeyArr","i","len","length","url","files","handleRemove","beforeUpload","_self","_URL","window","URL","webkitURL","fileName","promise_default","a","resolve","reject","img","Image","src","createObjectURL","onload","width","height","Editor_EditorImage","render","_vm","_h","$createElement","_c","staticClass","style","background","borderColor","attrs","icon","size","on","click","$event","_v","visible","update:visible","multiple","file-list","show-file-list","on-remove","on-success","before-upload","action","list-type","staticRenderFns","components_Editor_EditorImage","normalizeComponent","ssrContext","plugins","toolbar","callbacks","dynamicLoadScript","callback","existingScript","document","getElementById","cb","script","createElement","id","body","appendChild","push","onerror","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","value","err","return","Error","onreadystatechange","readyState","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","tinymce","Editor","components","editorImage","Date","Math","random","toFixed","Array","required","menubar","Number","content","hasChange","hasInit","tinymceId","fullscreen","languageTypeList","en","zh","es","ja","computed","containerWidth","test","watch","val","$nextTick","get","setContent","mounted","init","activated","initTinymce","deactivated","destroyTinymce","destroyed","_this3","Editor_dynamicLoadScript","error","message","_this4","selector","language","body_class","object_resizing","Editor_toolbar","Editor_plugins","end_container_on_empty_block","powerpaste_word_import","code_dialog_height","code_dialog_width","advlist_bullet_styles","advlist_number_styles","imagetools_cors_hosts","default_link_target","link_title","nonbreaking_force_tab","init_instance_callback","editor","getContent","setup","e","state","execCommand","destroy","imageSuccessCBK","forEach","insertContent","Editor_Editor","class","directives","rawName","expression","domProps","input","target","composing","Editor_Component","Editor_normalizeComponent","__webpack_exports__","anObject","getIterator","iterFn","TypeError","call","Object","keys","$export","core","fails","KEY","exec","fn","exp","S","F"],"mappings":"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","file":"static/js/3.0645984c62c20b354a1e.js","sourcesContent":["module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = BO1k\n// module chunks = 3","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = Cdx3\n// module chunks = 3","<template>\r\n  <div class=\"upload-container\">\r\n    <el-button\r\n      :style=\"{background:color,borderColor:color}\"\r\n      icon=\"el-icon-upload\"\r\n      size=\"mini\"\r\n      type=\"primary\"\r\n      @click=\" dialogVisible=true\"\r\n    >upload</el-button>\r\n    <el-dialog :visible.sync=\"dialogVisible\">\r\n      <el-upload\r\n        :multiple=\"true\"\r\n        :file-list=\"fileList\"\r\n        :show-file-list=\"true\"\r\n        :on-remove=\"handleRemove\"\r\n        :on-success=\"handleSuccess\"\r\n        :before-upload=\"beforeUpload\"\r\n        class=\"editor-slide-upload\"\r\n        action=\"https://httpbin.org/post\"\r\n        list-type=\"picture-card\"\r\n      >\r\n        <el-button size=\"small\" type=\"primary\">Click upload</el-button>\r\n      </el-upload>\r\n      <el-button @click=\"dialogVisible = false\">Cancel</el-button>\r\n      <el-button type=\"primary\" @click=\"handleSubmit\">Confirm</el-button>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { getToken } from 'api/qiniu'\r\nexport default {\r\n  name: \"EditorSlideUpload\",\r\n  props: {\r\n    color: {\r\n      type: String,\r\n      default: \"#1890ff\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      listObj: {},\r\n      fileList: []\r\n    };\r\n  },\r\n  methods: {\r\n    checkAllSuccess() {\r\n      return Object.keys(this.listObj).every(\r\n        item => this.listObj[item].hasSuccess\r\n      );\r\n    },\r\n    handleSubmit() {\r\n      const arr = Object.keys(this.listObj).map(v => this.listObj[v]);\r\n      if (!this.checkAllSuccess()) {\r\n        this.$message(\r\n          \"Please wait for all images to be uploaded successfully. If there is a network problem, please refresh the page and upload again!\"\r\n        );\r\n        return;\r\n      }\r\n      this.$emit(\"successCBK\", arr);\r\n      this.listObj = {};\r\n      this.fileList = [];\r\n      this.dialogVisible = false;\r\n    },\r\n    handleSuccess(response, file) {\r\n      const uid = file.uid;\r\n      const objKeyArr = Object.keys(this.listObj);\r\n      for (let i = 0, len = objKeyArr.length; i < len; i++) {\r\n        if (this.listObj[objKeyArr[i]].uid === uid) {\r\n          this.listObj[objKeyArr[i]].url = response.files.file;\r\n          this.listObj[objKeyArr[i]].hasSuccess = true;\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    handleRemove(file) {\r\n      const uid = file.uid;\r\n      const objKeyArr = Object.keys(this.listObj);\r\n      for (let i = 0, len = objKeyArr.length; i < len; i++) {\r\n        if (this.listObj[objKeyArr[i]].uid === uid) {\r\n          delete this.listObj[objKeyArr[i]];\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    beforeUpload(file) {\r\n      const _self = this;\r\n      const _URL = window.URL || window.webkitURL;\r\n      const fileName = file.uid;\r\n      this.listObj[fileName] = {};\r\n      return new Promise((resolve, reject) => {\r\n        const img = new Image();\r\n        img.src = _URL.createObjectURL(file);\r\n        img.onload = function() {\r\n          _self.listObj[fileName] = {\r\n            hasSuccess: false,\r\n            uid: file.uid,\r\n            width: this.width,\r\n            height: this.height\r\n          };\r\n        };\r\n        resolve(true);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.editor-slide-upload {\r\n  margin-bottom: 20px;\r\n}\r\n.editor-slide-upload /deep/ .el-upload--picture-card {\r\n  width: 100%;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Editor/EditorImage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload-container\"},[_c('el-button',{style:({background:_vm.color,borderColor:_vm.color}),attrs:{\"icon\":\"el-icon-upload\",\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible=true}}},[_vm._v(\"upload\")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-upload',{staticClass:\"editor-slide-upload\",attrs:{\"multiple\":true,\"file-list\":_vm.fileList,\"show-file-list\":true,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.handleSuccess,\"before-upload\":_vm.beforeUpload,\"action\":\"https://httpbin.org/post\",\"list-type\":\"picture-card\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"Click upload\")])],1),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"Confirm\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-84a46a4c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Editor/EditorImage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-84a46a4c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditorImage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditorImage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditorImage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-84a46a4c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditorImage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-84a46a4c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Editor/EditorImage.vue\n// module id = null\n// module chunks = ","const plugins = ['advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount']\r\n\r\nexport default plugins\n\n\n// WEBPACK FOOTER //\n// ./src/components/Editor/plugins.js","const toolbar = ['searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample', 'hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen']\r\n\r\nexport default toolbar\n\n\n// WEBPACK FOOTER //\n// ./src/components/Editor/toolbar.js","let callbacks = []\r\n\r\nfunction loadedTinymce() {\r\n    // to fixed https://github.com/PanJiaChen/vue-element-admin/issues/2144\r\n    // check is successfully downloaded script\r\n    return window.tinymce\r\n}\r\n\r\nconst dynamicLoadScript = (src, callback) => {\r\n    const existingScript = document.getElementById(src)\r\n    const cb = callback || function () { }\r\n\r\n    if (!existingScript) {\r\n        const script = document.createElement('script')\r\n        script.src = src // src url for the third-party library being loaded.\r\n        script.id = src\r\n        document.body.appendChild(script)\r\n        callbacks.push(cb)\r\n        const onEnd = 'onload' in script ? stdOnEnd : ieOnEnd\r\n        onEnd(script)\r\n    }\r\n\r\n    if (existingScript && cb) {\r\n        if (loadedTinymce()) {\r\n            cb(null, existingScript)\r\n        } else {\r\n            callbacks.push(cb)\r\n        }\r\n    }\r\n\r\n    function stdOnEnd(script) {\r\n        script.onload = function () {\r\n            // this.onload = null here is necessary\r\n            // because even IE9 works not like others\r\n            this.onerror = this.onload = null\r\n            for (const cb of callbacks) {\r\n                cb(null, script)\r\n            }\r\n            callbacks = null\r\n        }\r\n        script.onerror = function () {\r\n            this.onerror = this.onload = null\r\n            cb(new Error('Failed to load ' + src), script)\r\n        }\r\n    }\r\n\r\n    function ieOnEnd(script) {\r\n        script.onreadystatechange = function () {\r\n            if (this.readyState !== 'complete' && this.readyState !== 'loaded') return\r\n            this.onreadystatechange = null\r\n            for (const cb of callbacks) {\r\n                cb(null, script) // there is no way to catch loading errors in IE8\r\n            }\r\n            callbacks = null\r\n        }\r\n    }\r\n}\r\n\r\nexport default dynamicLoadScript\n\n\n// WEBPACK FOOTER //\n// ./src/components/Editor/dynamicLoadScript.js","<template>\r\n    <div :class=\"{fullscreen:fullscreen}\" class=\"tinymce-container\" :style=\"{width:containerWidth}\">\r\n    <textarea :id=\"tinymceId\" class=\"tinymce-textarea\" v-model='content' />\r\n    <!-- <div class=\"editor-custom-btn-container\">\r\n      <editorImage color=\"#1890ff\" class=\"editor-upload-btn\" @successCBK=\"imageSuccessCBK\" />\r\n    </div> -->\r\n  </div>\r\n</template>\r\n<script>\r\nimport editorImage from '../Editor/EditorImage'\r\nimport plugins from '../Editor/plugins'\r\nimport toolbar from '../Editor/toolbar'\r\nimport load from '../Editor/dynamicLoadScript'\r\n\r\n// why use this cdn, detail see https://github.com/PanJiaChen/tinymce-all-in-one\r\nconst tinymceCDN = 'https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js'\r\nexport default {\r\n  name: 'Editor',\r\n  components: { editorImage },\r\n  \r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: function() {\r\n        return 'vue-tinymce-' + +new Date() + ((Math.random() * 1000).toFixed(0) + '')\r\n      }\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ``\r\n    },\r\n    toolbar: {\r\n      type: Array,\r\n      required: false,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    menubar: {\r\n      type: String,\r\n      default: 'file edit insert view format table'\r\n    },\r\n    height: {\r\n      type: [Number, String],\r\n      required: false,\r\n      default: 360\r\n    },\r\n    width: {\r\n      type: [Number, String],\r\n      required: false,\r\n      default: 'auto'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      content:`<h1 style='text-align:center'>Welcome to the TinyMCE demo!</h1>\r\n      <img src='https://www.tinymce.com/images/glyph-tinymce@2x.png' style='margin:auto;display:block'>\r\n      <ul>\r\n      <li>Our documentation is a great resource for learning how to configure TinyMCE.</li>\r\n      <li>Have a specific question? Visit the Community Forum.</li>\r\n      <li>We also offer enterprise grade support as part of TinyMCE premium subscriptions.</li>\r\n      </ul>`,\r\n      hasChange: false,\r\n      hasInit: false,\r\n      tinymceId: this.id,\r\n      fullscreen: false,\r\n      languageTypeList: {\r\n        'en': 'en',\r\n        'zh': 'zh_CN',\r\n        'es': 'es_MX',\r\n        'ja': 'ja'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    containerWidth() {\r\n      const width = this.width\r\n      if (/^[\\d]+(\\.[\\d]+)?$/.test(width)) { // matches `100`, `'100'`\r\n        return `${width}px`\r\n      }\r\n      return width\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      if (!this.hasChange && this.hasInit) {\r\n        this.$nextTick(() =>\r\n          window.tinymce.get(this.tinymceId).setContent(val || ''))\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n   \r\n  },\r\n  activated() {\r\n    if (window.tinymce) {\r\n      this.initTinymce()\r\n    }\r\n  },\r\n  deactivated() {\r\n    this.destroyTinymce()\r\n  },\r\n  destroyed() {\r\n    this.destroyTinymce()\r\n  },\r\n  methods: {\r\n    init() {\r\n      // dynamic load tinymce from cdn\r\n      load(tinymceCDN, (err) => {\r\n        if (err) {\r\n          this.$message.error(err.message)\r\n          return\r\n        }\r\n        this.initTinymce()\r\n      })\r\n    },\r\n    initTinymce() {\r\n      const _this = this\r\n      window.tinymce.init({\r\n        selector: `#${this.tinymceId}`,\r\n        language: this.languageTypeList['en'],\r\n        height: this.height,\r\n        body_class: 'panel-body ',\r\n        object_resizing: false,\r\n        toolbar: this.toolbar.length > 0 ? this.toolbar : toolbar,\r\n        menubar: this.menubar,\r\n        plugins: plugins,\r\n        end_container_on_empty_block: true,\r\n        powerpaste_word_import: 'clean',\r\n        code_dialog_height: 450,\r\n        code_dialog_width: 1000,\r\n        advlist_bullet_styles: 'square',\r\n        advlist_number_styles: 'default',\r\n        imagetools_cors_hosts: ['www.tinymce.com', 'codepen.io'],\r\n        default_link_target: '_blank',\r\n        link_title: false,\r\n        nonbreaking_force_tab: true, // inserting nonbreaking space &nbsp; need Nonbreaking Space Plugin\r\n        init_instance_callback: editor => {\r\n          if (_this.value) {\r\n            editor.setContent(_this.value)\r\n          }\r\n          _this.hasInit = true\r\n          editor.on('NodeChange Change KeyUp SetContent', () => {\r\n            this.hasChange = true\r\n            this.$emit('input', editor.getContent())\r\n          })\r\n        },\r\n        setup(editor) {\r\n          editor.on('FullscreenStateChanged', (e) => {\r\n            _this.fullscreen = e.state\r\n          })\r\n        }\r\n        // 整合七牛上传\r\n        // images_dataimg_filter(img) {\r\n        //   setTimeout(() => {\r\n        //     const $image = $(img);\r\n        //     $image.removeAttr('width');\r\n        //     $image.removeAttr('height');\r\n        //     if ($image[0].height && $image[0].width) {\r\n        //       $image.attr('data-wscntype', 'image');\r\n        //       $image.attr('data-wscnh', $image[0].height);\r\n        //       $image.attr('data-wscnw', $image[0].width);\r\n        //       $image.addClass('wscnph');\r\n        //     }\r\n        //   }, 0);\r\n        //   return img\r\n        // },\r\n        // images_upload_handler(blobInfo, success, failure, progress) {\r\n        //   progress(0);\r\n        //   const token = _this.$store.getters.token;\r\n        //   getToken(token).then(response => {\r\n        //     const url = response.data.qiniu_url;\r\n        //     const formData = new FormData();\r\n        //     formData.append('token', response.data.qiniu_token);\r\n        //     formData.append('key', response.data.qiniu_key);\r\n        //     formData.append('file', blobInfo.blob(), url);\r\n        //     upload(formData).then(() => {\r\n        //       success(url);\r\n        //       progress(100);\r\n        //     })\r\n        //   }).catch(err => {\r\n        //     failure('出现未知问题，刷新页面，或者联系程序员')\r\n        //     console.log(err);\r\n        //   });\r\n        // },\r\n      })\r\n    },\r\n    destroyTinymce() {\r\n      const tinymce = window.tinymce.get(this.tinymceId)\r\n      if (this.fullscreen) {\r\n        tinymce.execCommand('mceFullScreen')\r\n      }\r\n      if (tinymce) {\r\n        tinymce.destroy()\r\n      }\r\n    },\r\n    setContent(value) {\r\n      window.tinymce.get(this.tinymceId).setContent(value)\r\n    },\r\n    getContent() {\r\n      window.tinymce.get(this.tinymceId).getContent()\r\n    },\r\n    imageSuccessCBK(arr) {\r\n      const _this = this\r\n      arr.forEach(v => {\r\n        window.tinymce.get(_this.tinymceId).insertContent(`<img class=\"wscnph\" src=\"${v.url}\" >`)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tinymce-container {\r\n  position: relative;\r\n  line-height: normal;\r\n}\r\n.tinymce-container>>>.mce-fullscreen {\r\n  z-index: 10000;\r\n}\r\n.tinymce-textarea {\r\n  visibility: hidden;\r\n  z-index: -1;\r\n}\r\n.editor-custom-btn-container {\r\n  position: absolute;\r\n  right: 4px;\r\n  top: 4px;\r\n  /*z-index: 2005;*/\r\n}\r\n.fullscreen .editor-custom-btn-container {\r\n  z-index: 10000;\r\n  position: fixed;\r\n}\r\n.editor-upload-btn {\r\n  display: inline-block;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Editor/Editor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tinymce-container\",class:{fullscreen:_vm.fullscreen},style:({width:_vm.containerWidth})},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],staticClass:\"tinymce-textarea\",attrs:{\"id\":_vm.tinymceId},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5aec1822\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Editor/Editor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5aec1822\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Editor.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5aec1822\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Editor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5aec1822\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Editor/Editor.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = fZjL\n// module chunks = 3","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = fxRn\n// module chunks = 3","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = g8Ux\n// module chunks = 3","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = jFbC\n// module chunks = 3","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = uqUo\n// module chunks = 3"],"sourceRoot":""}